{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/mapbox.js","public/js/login.js","public/js/alerts.js","public/js/updateSettings.js","public/js/stripe.js"],"sourcesContent":["var $9cHRR$axios = require(\"axios\");\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/* eslint-disable */ /* eslint-disable */ const $f1eefc3e571ce161$export$4c5dd147b21b9176 = (locations)=>{\n    mapboxgl.accessToken = \"pk.eyJ1Ijoic2FoYWtob3ZoYW5uaXN5YW4xMTEiLCJhIjoiY2xpenFiNTQ5MGdxbzNkdDhydjFpMWFiMyJ9.WU8lPhN_kckM8_XAGq9AEA\";\n    var map = new mapboxgl.Map({\n        container: \"map\",\n        style: \"mapbox://styles/sahakhovhannisyan111/clizqin6f00b901qq211xavwa\",\n        scrollZoom: false\n    });\n    const bounds = new mapboxgl.LngLatBounds();\n    locations.forEach((loc)=>{\n        const el = document.createElement(\"div\");\n        el.className = \"marker\";\n        new mapboxgl.Marker({\n            element: el,\n            anchor: \"bottom\"\n        }).setLngLat(loc.coordinates).addTo(map);\n        new mapboxgl.Popup({\n            offset: 30\n        }).setLngLat(loc.coordinates).setHTML(`<p>Day ${loc.day}:${loc.description}</p>`).addTo(map);\n        bounds.extend(loc.coordinates);\n    });\n    map.fitBounds(bounds, {\n        padding: {\n            top: 200,\n            bottom: 150,\n            left: 100,\n            right: 100\n        }\n    });\n};\n\n\n/* eslint-disable */ const $528d70b6813c5801$export$516836c6a9dfc573 = ()=>{\n    const el = document.querySelector(\".alert\");\n    if (el) el.parentElement.removeChild(el);\n};\nconst $528d70b6813c5801$export$de026b00723010c1 = (type, msg, time = 5)=>{\n    $528d70b6813c5801$export$516836c6a9dfc573();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    window.setTimeout($528d70b6813c5801$export$516836c6a9dfc573, time * 1000);\n};\n\n\nconst $90c6ea74aa9f1952$export$596d806903d1f59e = async (email, password)=>{\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/login\",\n            data: {\n                email: email,\n                password: password\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $528d70b6813c5801$export$de026b00723010c1)(\"success\", \"Logged in successfully!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1500);\n        }\n    } catch (err) {\n        (0, $528d70b6813c5801$export$de026b00723010c1)(\"error\", \"login or password did not match! Try again\");\n    }\n};\nconst $90c6ea74aa9f1952$export$7200a869094fec36 = async (name, email, password, passwordConfirm)=>{\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/signup\",\n            data: {\n                name: name,\n                email: email,\n                password: password,\n                passwordConfirm: passwordConfirm\n            }\n        });\n        if (res.data.status === \"success\") (0, $528d70b6813c5801$export$de026b00723010c1)(\"success\", \"Signed up successfully\");\n        window.setTimeout(()=>{\n            location.assign(\"/\");\n        }, 1500);\n    } catch (err) {\n        (0, $528d70b6813c5801$export$de026b00723010c1)(\"error\", \"Please fill the fields correctly\");\n    }\n};\nconst $90c6ea74aa9f1952$export$a0973bcfe11b05c9 = async ()=>{\n    try {\n        const res = await axios({\n            method: \"GET\",\n            url: \"/api/v1/users/logout\"\n        });\n        res.data.status = \"Success\";\n        window.setTimeout(()=>{\n            location.assign(\"/\");\n        }, 2000);\n    } catch (err) {\n        console.log(err.response);\n        (0, $528d70b6813c5801$export$de026b00723010c1)(\"error\", \"Error logging out! Try again.\");\n    }\n};\n\n\n/* eslint-disable */ \n\nconst $57d5b9d949522b3d$export$f558026a994b6051 = async (data, type)=>{\n    const url = type === \"password\" ? \"/api/v1/users/updateMyPassword\" : \"/api/v1/users/updateMe\";\n    try {\n        const res = await (0, ($parcel$interopDefault($9cHRR$axios)))({\n            method: \"PATCH\",\n            url: url,\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $528d70b6813c5801$export$de026b00723010c1)(\"success\", `${type.toUpperCase()}updated successfully!`);\n    } catch (err) {\n        (0, $528d70b6813c5801$export$de026b00723010c1)(\"error\", err.message);\n    }\n};\n\n\n/* eslint-disable */ \nconst $a3b283ce5068068c$var$stripe = Stripe(\"pk_test_51NMt3dD1RDCIX8YPcCiP9QzLJsQFhgNLTB0W0Ux95f37VDMy9q7bz3MDqPnD3hVEoMYhEAGgebR18vlhwZHjvOxE004N1DeIWW\");\nconst $a3b283ce5068068c$export$8d5bdbf26681c0c2 = async (tourID)=>{\n    try {\n        const session = await axios(`/api/v1/bookings/checkout-session/${tourID}`);\n        // console.log(session);\n        await $a3b283ce5068068c$var$stripe.redirectToCheckout({\n            sessionId: session.data.session.id\n        });\n    } catch (err) {\n        console.log(err);\n        (0, $528d70b6813c5801$export$de026b00723010c1)(\"error\", err);\n    }\n};\n\n\n// import { showAlert } from './alerts';\n//DOM ELEMENTS\nconst $ab13a2a6d2405e8d$var$mapBox = document.getElementById(\"map\");\nconst $ab13a2a6d2405e8d$var$formEl = document.querySelector(\".form--login\");\nconst $ab13a2a6d2405e8d$var$logOutBtn = document.querySelector(\".nav__el--logout\");\nconst $ab13a2a6d2405e8d$var$signUpForm = document.querySelector(\".form--signup\");\nconst $ab13a2a6d2405e8d$var$userDataForm = document.querySelector(\".form-user-data\");\nconst $ab13a2a6d2405e8d$var$userPasswordForm = document.querySelector(\".form-user-password\");\nconst $ab13a2a6d2405e8d$var$bookBtn = document.getElementById(\"book-tour\");\n//DELEGATION\nif ($ab13a2a6d2405e8d$var$mapBox) {\n    const locations = JSON.parse($ab13a2a6d2405e8d$var$mapBox.dataset.locations);\n    (0, $f1eefc3e571ce161$export$4c5dd147b21b9176)(locations);\n}\nif ($ab13a2a6d2405e8d$var$formEl) $ab13a2a6d2405e8d$var$formEl.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    (0, $90c6ea74aa9f1952$export$596d806903d1f59e)(email, password);\n});\nif ($ab13a2a6d2405e8d$var$signUpForm) $ab13a2a6d2405e8d$var$signUpForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const name = document.getElementById(\"name\").value;\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"passwordConfirm\").value;\n    (0, $90c6ea74aa9f1952$export$7200a869094fec36)(name, email, password, passwordConfirm);\n});\nif ($ab13a2a6d2405e8d$var$logOutBtn) $ab13a2a6d2405e8d$var$logOutBtn.addEventListener(\"click\", (0, $90c6ea74aa9f1952$export$a0973bcfe11b05c9));\nif ($ab13a2a6d2405e8d$var$userDataForm) $ab13a2a6d2405e8d$var$userDataForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const form = new FormData();\n    form.append(\"name\", document.getElementById(\"name\").value);\n    form.append(\"email\", document.getElementById(\"email\").value);\n    form.append(\"photo\", document.getElementById(\"photo\").files[0]);\n    (0, $57d5b9d949522b3d$export$f558026a994b6051)(form, \"data\");\n});\nif ($ab13a2a6d2405e8d$var$userPasswordForm) $ab13a2a6d2405e8d$var$userPasswordForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    document.querySelector(\".btn--save--password\").textContent = \"Updating...\";\n    const passwordCurrent = document.getElementById(\"password-current\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"password-confirm\").value;\n    await (0, $57d5b9d949522b3d$export$f558026a994b6051)({\n        passwordCurrent: passwordCurrent,\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, \"password\");\n    document.querySelector(\".btn--save--password\").textContent = \"Save password\";\n    document.getElementById(\"password-current\").value = \"\";\n    document.getElementById(\"password\").value = \"\";\n    document.getElementById(\"password-confirm\").value = \"\";\n});\nif ($ab13a2a6d2405e8d$var$bookBtn) $ab13a2a6d2405e8d$var$bookBtn.addEventListener(\"click\", (e)=>{\n    e.target.textContent = \"Processing...\";\n    const { tourId: tourId  } = e.target.dataset;\n    (0, $a3b283ce5068068c$export$8d5bdbf26681c0c2)(tourId);\n});\nconst $ab13a2a6d2405e8d$var$alertMessage = document.querySelector(\"body\").dataset.alert;\nif ($ab13a2a6d2405e8d$var$alertMessage) showAlert(\"success\", $ab13a2a6d2405e8d$var$alertMessage, 20);\n\n\n//# sourceMappingURL=index.js.map\n","/* eslint-disable */\r\n\r\nimport { displayMap } from './mapbox';\r\nimport { login, signup, logout } from './login';\r\nimport { updateSettings } from './updateSettings';\r\nimport { bookTour } from './stripe';\r\n// import { showAlert } from './alerts';\r\n\r\n//DOM ELEMENTS\r\nconst mapBox = document.getElementById('map');\r\nconst formEl = document.querySelector('.form--login');\r\nconst logOutBtn = document.querySelector('.nav__el--logout');\r\nconst signUpForm = document.querySelector('.form--signup');\r\nconst userDataForm = document.querySelector('.form-user-data');\r\nconst userPasswordForm = document.querySelector('.form-user-password');\r\nconst bookBtn = document.getElementById('book-tour');\r\n//DELEGATION\r\nif (mapBox) {\r\n  const locations = JSON.parse(mapBox.dataset.locations);\r\n  displayMap(locations);\r\n}\r\n\r\nif (formEl) {\r\n  formEl.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    login(email, password);\r\n  });\r\n}\r\nif (signUpForm) {\r\n  signUpForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const name = document.getElementById('name').value;\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById('passwordConfirm').value;\r\n    signup(name, email, password, passwordConfirm);\r\n  });\r\n}\r\nif (logOutBtn) {\r\n  logOutBtn.addEventListener('click', logout);\r\n}\r\nif (userDataForm) {\r\n  userDataForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append('name', document.getElementById('name').value);\r\n    form.append('email', document.getElementById('email').value);\r\n    form.append('photo', document.getElementById('photo').files[0]);\r\n\r\n    updateSettings(form, 'data');\r\n  });\r\n}\r\nif (userPasswordForm)\r\n  userPasswordForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    document.querySelector('.btn--save--password').textContent = 'Updating...';\r\n    const passwordCurrent = document.getElementById('password-current').value;\r\n    const password = document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById('password-confirm').value;\r\n\r\n    await updateSettings(\r\n      { passwordCurrent, password, passwordConfirm },\r\n      'password'\r\n    );\r\n    document.querySelector('.btn--save--password').textContent =\r\n      'Save password';\r\n    document.getElementById('password-current').value = '';\r\n    document.getElementById('password').value = '';\r\n    document.getElementById('password-confirm').value = '';\r\n  });\r\nif (bookBtn) {\r\n  bookBtn.addEventListener('click', (e) => {\r\n    e.target.textContent = 'Processing...';\r\n    const { tourId } = e.target.dataset;\r\n    bookTour(tourId);\r\n  });\r\n}\r\nconst alertMessage = document.querySelector('body').dataset.alert;\r\nif (alertMessage) showAlert('success', alertMessage, 20);\r\n","/* eslint-disable */\r\nexport const displayMap = (locations) => {\r\n  mapboxgl.accessToken =\r\n    'pk.eyJ1Ijoic2FoYWtob3ZoYW5uaXN5YW4xMTEiLCJhIjoiY2xpenFiNTQ5MGdxbzNkdDhydjFpMWFiMyJ9.WU8lPhN_kckM8_XAGq9AEA';\r\n  var map = new mapboxgl.Map({\r\n    container: 'map',\r\n    style: 'mapbox://styles/sahakhovhannisyan111/clizqin6f00b901qq211xavwa',\r\n    scrollZoom: false,\r\n    //   center: [],\r\n    //   zoom: 10,\r\n    //   interactive: false,\r\n  });\r\n  const bounds = new mapboxgl.LngLatBounds();\r\n  locations.forEach((loc) => {\r\n    const el = document.createElement('div');\r\n    el.className = 'marker';\r\n    new mapboxgl.Marker({\r\n      element: el,\r\n      anchor: 'bottom',\r\n    })\r\n      .setLngLat(loc.coordinates)\r\n      .addTo(map);\r\n    new mapboxgl.Popup({\r\n      offset: 30,\r\n    })\r\n      .setLngLat(loc.coordinates)\r\n      .setHTML(`<p>Day ${loc.day}:${loc.description}</p>`)\r\n      .addTo(map);\r\n    bounds.extend(loc.coordinates);\r\n  });\r\n  map.fitBounds(bounds, {\r\n    padding: {\r\n      top: 200,\r\n      bottom: 150,\r\n      left: 100,\r\n      right: 100,\r\n    },\r\n  });\r\n};\r\n","import { showAlert } from './alerts';\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/login',\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Logged in successfully!');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'login or password did not match! Try again');\r\n  }\r\n};\r\nexport const signup = async (name, email, password, passwordConfirm) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/signup',\r\n      data: { name, email, password, passwordConfirm },\r\n    });\r\n    if (res.data.status === 'success')\r\n      showAlert('success', 'Signed up successfully');\r\n    window.setTimeout(() => {\r\n      location.assign('/');\r\n    }, 1500);\r\n  } catch (err) {\r\n    showAlert('error', 'Please fill the fields correctly');\r\n  }\r\n};\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'GET',\r\n      url: '/api/v1/users/logout',\r\n    });\r\n    if ((res.data.status = 'Success')) {\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 2000);\r\n    }\r\n  } catch (err) {\r\n    console.log(err.response);\r\n    showAlert('error', 'Error logging out! Try again.');\r\n  }\r\n};\r\n","/* eslint-disable */\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\n// type is 'success' or 'error\r\nexport const showAlert = (type, msg, time = 5) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n  window.setTimeout(hideAlert, time * 1000);\r\n};\r\n","/* eslint-disable */\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts';\r\n//type will be data(name,email) or password\r\nexport const updateSettings = async (data, type) => {\r\n  const url =\r\n    type === 'password'\r\n      ? '/api/v1/users/updateMyPassword'\r\n      : '/api/v1/users/updateMe';\r\n  try {\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', `${type.toUpperCase()}updated successfully!`);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n  }\r\n};\r\n","/* eslint-disable */\r\nimport { showAlert } from './alerts';\r\n\r\nconst stripe = Stripe(\r\n  'pk_test_51NMt3dD1RDCIX8YPcCiP9QzLJsQFhgNLTB0W0Ux95f37VDMy9q7bz3MDqPnD3hVEoMYhEAGgebR18vlhwZHjvOxE004N1DeIWW'\r\n);\r\nexport const bookTour = async (tourID) => {\r\n  try {\r\n    const session = await axios(`/api/v1/bookings/checkout-session/${tourID}`);\r\n    // console.log(session);\r\n    await stripe.redirectToCheckout({\r\n      sessionId: session.data.session.id,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    showAlert('error', err);\r\n  }\r\n};\r\n"],"names":["$9cHRR$axios","require","$528d70b6813c5801$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$528d70b6813c5801$export$de026b00723010c1","type","msg","time","markup","insertAdjacentHTML","window","setTimeout","$90c6ea74aa9f1952$export$596d806903d1f59e","email","password","res","axios","method","url","data","status","location","assign","err","$90c6ea74aa9f1952$export$7200a869094fec36","name","passwordConfirm","$90c6ea74aa9f1952$export$a0973bcfe11b05c9","console","log","response","$57d5b9d949522b3d$export$f558026a994b6051","$parcel$interopDefault","a","__esModule","default","toUpperCase","message","$a3b283ce5068068c$var$stripe","Stripe","$a3b283ce5068068c$export$8d5bdbf26681c0c2","tourID","session","redirectToCheckout","sessionId","id","$ab13a2a6d2405e8d$var$mapBox","getElementById","$ab13a2a6d2405e8d$var$formEl","$ab13a2a6d2405e8d$var$logOutBtn","$ab13a2a6d2405e8d$var$signUpForm","$ab13a2a6d2405e8d$var$userDataForm","$ab13a2a6d2405e8d$var$userPasswordForm","$ab13a2a6d2405e8d$var$bookBtn","locations","JSON","parse","dataset","mapboxgl","accessToken","map","Map","container","style","scrollZoom","bounds","LngLatBounds","forEach","loc","createElement","className","Marker","element","anchor","setLngLat","coordinates","addTo","Popup","offset","setHTML","day","description","extend","fitBounds","padding","top","bottom","left","right","addEventListener","e","preventDefault","value","form","FormData","append","files","textContent","passwordCurrent","target","tourId","$ab13a2a6d2405e8d$var$alertMessage","alert","showAlert"],"version":3,"file":"index.js.map","sourceRoot":"../../../"}